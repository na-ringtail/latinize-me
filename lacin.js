$(function () {

    function transliterate() {

        var replacements = {
                'Абрызгла': 'Аbryzgła',
                'абрызгла': 'abryzgła',
                'Абрызглу': 'Аbryzgłu',
                'абрызглу': 'abryzgłu',
                'Абрызглы': 'Аbryzgły',
                'абрызглы': 'abryzgły',
                'Абрызгло': 'Аbryzgło',
                'абрызгло': 'abryzgło',
                'Абрызгль': 'Аbryzgl',
                'абрызгль': 'abryzgl',
                'Абрызгле': 'Аbryzgle',
                'абрызгле': 'abryzgle',
                'Абрызгля': 'Аbryzgla',
                'абрызгля': 'abryzgla',
                'Абрызглё': 'Аbryzglo',
                'абрызглё': 'abryzglo',
                'Абрызглю': 'Аbryzglu',
                'абрызглю': 'abryzglu',
                'Абрызглі': 'Аbryzgli',
                'абрызглі': 'abryzglі',
                'Агрэст': 'Agrest',
                'агрэст': 'agrest',
                'Бразгa': 'Brazga',
                'бразгa': 'brazga',
                'Возгр': 'Vozgr',
                'возгр': 'vozgr',
                'Вэдзга': 'Vedzga',
                'вэдзга': 'vedzga',
                'Габл': 'Gabl',
                'габл': 'gabl',
                'Газa': 'Gaza',
                'газa': 'gaza',
                'Ган': 'Gan',
                'ган': 'gan',
                'Гарн': 'Garn',
                'гарн': 'garn',
                'Гвалт': 'Gvałt',
                'гвалт': 'gvałt',
                'Герг': 'Gerg',
                'герг': 'gerg',
                'Гірс': 'Girs',
                'гірс': 'girs',
                'Глузд': 'Głuzd',
                'глузд': 'głuzd',
                'Гмах': 'Gmach',
                'гмах': 'gmach',
                'Гонт': 'Gont',
                'гонт': 'gont',
                'Груц': 'Gruc',
                'груц': 'gruc',
                'Гузік': 'Guzik',
                'гузік': 'guzik',
                'Гуз': 'Guz',
                'гуз': 'guz',
                'Джыга': 'Džyga',
                'джыга': 'Džyga',
                'Зграбн': 'Zgrabn',
                'зграбн': 'zgrabn',
                'Згра': 'Zgra',
                'згра': 'zgra',
                'Iзго': 'Izgo',
                'iзго': 'izgo',
                'Лезгін': 'Liezgin',
                'лезгін': 'liezgin',
                'Лязг': 'Liazg',
                'лязг': 'liazg',
                'Мазг': 'Mazg',
                'мазг': 'mazg',
                'Нягеглы': 'Niagiegły',
                'нягеглы': 'niagiegły',
                'Нягегла': 'Niagiegły',
                'нягегла': 'niagiegła',
                'Нягеглу': 'Niagiegłu',
                'нягеглу': 'niagiegłu',
                'Нягегло': 'Niagiegło',
                'нягегло': 'niagiegło',
                'Нягегль': 'Niagiegl',
                'нягегль': 'niagiegl',
                'Нягегле': 'Niagiegle',
                'нягегле': 'niagiegle',
                'Нягегля': 'Niagiegla',
                'нягегля': 'niagiegla',
                'Нягеглю': 'Niagieglu',
                'нягеглю': 'niagieglu',
                'Нягеглі': 'Niagiegli',
                'нягеглі': 'niagiegli',
                'Плявузга': 'Pliavuzga',
                'плявузга': 'pliavuzga',
                'Розг': 'Rozg',
                'розг': 'rozg',
                'Рэзгін': 'Rezgin',
                'рэзгін': 'rezgin',
                'Цугль': 'Cugl',
                'цугль': 'cugl',
                'Цугле': 'Cugle',
                'цугле': 'cugle',
                'Цугля': 'Cugla',
                'цугля': 'cugla',
                'Цуглю': 'Cuglu',
                'цуглю': 'cuglu',
                'Цуглё': 'Cuglo',
                'цуглё': 'cuglo',
                'Цуглі': 'Cugli',
                'цуглі': 'cugli',
                'Цугла': 'Cugła',
                'цугла': 'cugła',
                'Цугло': 'Cugło',
                'цугло': 'cugło',
                'Цуглу': 'Cugłu',
                'цуглу': 'cugłu',
                'Цуглы': 'Cugły',
                'цуглы': 'cugły',
                'Цэгла': 'Cegła',
                'цэгла': 'cegła',
                'Цэглу': 'Cegłu',
                'цэглу': 'cegłu',
                'Цэглы': 'Cegły',
                'цэглы': 'cegły',
                'Цэгло': 'Cegło',
                'цэгло': 'cegło',
                'Цэгль': 'Cegl',
                'цэгль': 'cegl',
                'Цэгле': 'Cegle',
                'цэгле': 'cegle',
                'Цэглё': 'Ceglo',
                'цэглё': 'ceglo',
                'Цэгля': 'Cegla',
                'цэгля': 'cegla',
                'Цэглю': 'Ceglu',
                'цэглю': 'ceglu',
                'Цэглі': 'Cegli',
                'цэглі': 'cegli',
                'Цягль': 'Ciagl',
                'цягль': 'ciagl',
                'Цягле': 'Ciaglie',
                'цягле': 'ciaglie',
                'Цягля': 'Ciaglia',
                'цягля': 'ciaglia',
                'Цяглё': 'Ciaglio',
                'цяглё': 'ciaglio',
                'Цяглю': 'Ciagliu',
                'цяглю': 'ciagliu',
                'Цяглі': 'Ciagli',
                'цяглі': 'ciagli',
                'Цягла': 'Ciagła',
                'цягла': 'ciagła',
                'Цягло': 'Ciagło',
                'цягло': 'ciagło',
                'Цяглу': 'Ciagłu',
                'цяглу': 'ciagłu',
                'Цяглы': 'Ciagły',
                'цяглы': 'ciagły',
                'Шваг': 'Švag',
                'шваг': 'švag',
                'дзь': 'dź',
                'Дзь': 'Dź',
                'дзе': 'dzie',
                'Дзе': 'Dzie',
                'дзю': 'dziu',
                'Дзю': 'Dziu',
                'дзя': 'dzia',
                'Дзя': 'Dzia',
                'дзё': 'dzio',
                'Дзё': 'Dzio',
                'ззе': 'źzie',
                'Ззе': 'Źzie',
                'зьзе': 'źzie',
                'Зьзе': 'Źzie',
                'ззю': 'źziu',
                'Ззю': 'Źziu',
                'зьзю': 'źziu',
                'Зьзю': 'Źziu',
                'ззя': 'źzia',
                'Ззя': 'Źzia',
                'зьзя': 'źzia',
                'Зьзя': 'Źzia',
                'цце': 'ćcie',
                'Цце': 'Ćcie',
                'цьце': 'ćcie',
                'Цьце': 'Ćcie',
                'ццю': 'ćciu',
                'Ццю': 'Ćciu',
                'цьцю': 'ćciu',
                'Цьцю': 'Ćciu',
                'цця': 'ćcia',
                'Цця': 'Ćcia',
                'цьця': 'ćcia',
                'Цьця': 'Ćcia',
                'ццё': 'ćcio',
                'Ццё': 'Ćcio',
                'цьцё': 'ćcio',
                'Цьцё': 'Ćcio',
                'сце': 'ście',
                'Сце': 'Ście',
                'сьце': 'ście',
                'Сьце': 'Ście',
                'сцю': 'ściu',
                'Сцю': 'Ściu',
                'сьцю': 'ściu',
                'Сьцю': 'Ściu',
                'сця': 'ścia',
                'Сця': 'Ścia',
                'сьця': 'ścia',
                'Сьця': 'Ścia',
                'лле': 'llie',
                'Лле': 'Llie',
                'ллю': 'lliu',
                'Ллю': 'Lliu',
                'лля': 'llia',
                'Лля': 'Llia',
                'ллё': 'llio',
                'Ллё': 'Llio',
                'нне': 'ńnie',
                'Нне': 'Ńnie',
                'нню': 'ńniu',
                'Нню': 'Ńniu',
                'ння': 'ńnia',
                'Ння': 'Ńnia',
                'ннё': 'ńnio',
                'Ннё': 'Ńnio',
                'бе': 'bie',
                'Бе': 'Bie',
                'бю': 'bie',
                'Бю': 'Bie',
                'бя': 'bia',
                'Бя': 'Bia',
                'бё': 'bio',
                'Бё': 'Bio',
                'ве': 'vie',
                'Ве': 'Vie',
                'вю': 'viu',
                'Вю': 'Viu',
                'вя': 'via',
                'Вя': 'Via',
                'вё': 'vio',
                'Вё': 'Vio',
                'ге': 'hie',
                'Ге': 'Hie',
                'гю': 'hiu',
                'Гю': 'Hiu',
                'гя': 'hia',
                'Гя': 'Hia',
                'гё': 'hio',
                'Гё': 'Hio',
                'дз': 'dz',
                'Дз': 'Dz',
                'дж': 'dž',
                'Дж': 'Dž',
                'зь': 'ź',
                'Зь': 'Ź',
                'зе': 'zie',
                'Зе': 'Zie',
                'зю': 'ziu',
                'Зю': 'Ziu',
                'зя': 'zia',
                'Зя': 'Zia',
                'зё': 'zio',
                'Зё': 'Zio',
                'ке': 'kie',
                'Ке': 'Kie',
                'кю': 'kiu',
                'Кю': 'Kiu',
                'кя': 'kia',
                'Кя': 'Kia',
                'кё': 'kio',
                'Кё': 'Kio',
                'ль': 'l',
                'Ль': 'L',
                'ле': 'le',
                'Ле': 'Le',
                'лі': 'li',
                'Лі': 'Li',
                'лю': 'lu',
                'Лю': 'Lu',
                'ля': 'la',
                'Ля': 'La',
                'лё': 'lo',
                'Лё': 'Lo',
                'ме': 'mie',
                'Ме': 'Mie',
                'мю': 'miu',
                'Мю': 'Miu',
                'мя': 'mia',
                'Мя': 'Mia',
                'мё': 'mio',
                'Мё': 'Mio',
                'нь': 'ń',
                'Нь': 'Ń',
                'не': 'nie',
                'Не': 'Nie',
                'ню': 'niu',
                'Ню': 'Niu',
                'ня': 'nia',
                'Ня': 'Nia',
                'нё': 'nio',
                'Нё': 'Nio',
                'пе': 'pie',
                'Пе': 'Pie',
                'пю': 'piu',
                'Пю': 'Piu',
                'пя': 'pia',
                'Пя': 'Pia',
                'пё': 'pio',
                'Пё': 'Pio',
                'сь': 'ś',
                'Сь': 'Ś',
                'се': 'sie',
                'Се': 'Sie',
                'сю': 'siu',
                'Сю': 'Siu',
                'ся': 'sia',
                'Ся': 'Sia',
                'сё': 'sio',
                'Сё': 'Sio',
                'фе': 'fie',
                'Фе': 'Fie',
                'фю': 'fiu',
                'Фю': 'Fiu',
                'фя': 'fia',
                'Фя': 'Fia',
                'фё': 'fio',
                'Фё': 'Fio',
                'хе': 'chie',
                'Хе': 'Chie',
                'хю': 'chiu',
                'Хю': 'Chiu',
                'хя': 'chia',
                'Хя': 'Chia',
                'хё': 'chio',
                'Хё': 'Chio',
                'ць': 'ć',
                'Ць': 'Ć',
                'це': 'cie',
                'Це': 'Cie',
                'цю': 'ciu',
                'Цю': 'Ciu',
                'ця': 'cia',
                'Ця': 'Cia',
                'цё': 'cio',
                'Цё': 'Cio',
                'а': 'a',
                'А': 'A',
                'б': 'b',
                'Б': 'B',
                'в': 'v',
                'В': 'V',
                'г': 'h',
                'Г': 'H',
                'д': 'd',
                'Д': 'D',
                'е': 'je',
                'Е': 'Je',
                'ё': 'jo',
                'Ё': 'Jo',
                'ж': 'ž',
                'Ж': 'Ž',
                'з': 'z',
                'З': 'Z',
                'і': 'i',
                'І': 'I',
                'й': 'j',
                'Й': 'J',
                'к': 'k',
                'К': 'K',
                'л': 'ł',
                'Л': 'Ł',
                'м': 'm',
                'М': 'M',
                'н': 'n',
                'Н': 'N',
                'о': 'o',
                'О': 'O',
                'п': 'p',
                'П': 'P',
                'р': 'r',
                'Р': 'R',
                'с': 's',
                'С': 'S',
                'т': 't',
                'Т': 'T',
                'у': 'u',
                'У': 'U',
                'ф': 'f',
                'Ф': 'F',
                'х': 'ch',
                'Х': 'Ch',
                'ц': 'c',
                'Ц': 'C',
                'ч': 'č',
                'Ч': 'Č',
                'ш': 'š',
                'Ш': 'Š',
                'ў': 'ŭ',
                'Ў': 'Ŭ',
                'ы': 'y',
                'Ы': 'Y',
                'э': 'e',
                'Э': 'E',
                'ю': 'ju',
                'Ю': 'Ju',
                'я': 'ja',
                'Я': 'Ja'
        };

        String.prototype.replaceAll = function (search, replacement) {
            var target = this;
            return target.split(search).join(replacement);
        };

        var text = $('#input').val();

        $.each(replacements, function (key, value) {

            text = text.replaceAll(key, value);
        });

        $('#output').val(text).change();
    }

    $(document).on('submit', '#transForm', function (e) {
        e.preventDefault();
        transliterate();
        document.getElementById('output-holder').scrollIntoView();
    });

    $('#output').parent().on('change keyup keydown paste cut', 'textarea', function () {
        $(this).height(0).height(this.scrollHeight - 16);
    });

    var input = $('#input');
    input.parent().on('focusout keyup paste cut', 'textarea', function () {
        $(this).height(0).height(this.scrollHeight - 16);
    });
});
